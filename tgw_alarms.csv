Component,Alarm Name,Metric Name,Statistic,Threshold,Period (seconds),Evaluation Periods,Datapoints to Alarm,Severity,Reasoning
TGW,PacketDropCount_NoRoute,PacketDropCount_NoRoute,Sum,> 100 packets,60,3,3,P1-Critical,Indicates routing table misconfiguration or missing routes after VPC attachments. ANY packet drops due to missing routes represent critical failure - traffic is being lost. 3 consecutive periods (3 min) confirms persistent routing issue requiring immediate remediation.
TGW,PacketDropCount_BlackHole,PacketDropCount_BlackHole,Sum,> 50 packets,60,3,3,P1-Critical,Packets hitting blackhole routes may be intentional (network segmentation) or accidental (misconfiguration). Lower threshold (50) with 3 periods allows for intentional blocking while alerting on unexpected drops. Correlate with change management logs to distinguish intentional vs. error.
TGW,BytesIn (per AZ),BytesIn,Sum,> 80% of per-AZ quota,300,2,2,P2-High,"TGW quotas enforced PER AVAILABILITY ZONE, not per TGW. Default 50 Gbps per AZ per attachment. Monitoring per-AZ prevents hitting quota in single AZ while overall utilization appears normal. 80% threshold provides buffer for traffic spikes before hard limit."
TGW,BytesOut (per AZ),BytesOut,Sum,> 80% of per-AZ quota,300,2,2,P2-High,Same reasoning as BytesIn per AZ. Outbound traffic monitoring critical for egress-heavy workloads. Early warning enables capacity planning (request quota increase or distribute traffic across additional attachments) before hitting limits.
TGW,PacketDropCount (per Attachment),PacketDropCount,Sum,> 100 packets,60,3,3,P2-High,"Per-attachment granularity isolates which specific VPC, VPN, or peering connection experiencing drops. Essential for rapid troubleshooting in 250-account environment. Drops isolated to single attachment indicate attachment-specific routing or connectivity issue vs. TGW-wide problem."
TGW,BytesOut (TGW-level),BytesOut,Anomaly Detection,GreaterThanUpperThreshold,300,3,2,P3-Medium,"TGW-level throughput anomaly detection identifies unusual traffic patterns across all attachments. Sudden drops indicate potential TGW or multi-attachment failure. Sudden spikes may indicate traffic redirection, failover, or security events requiring investigation."
